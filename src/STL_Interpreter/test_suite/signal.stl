// STL expression format
// STL op [time_begin, time_end] (condition_expr <META>) (time_expr, signal_val) 

// signal_1 : simple signal, level = 1

val signal_1 = ${
        "1": {
                "content": {
                        "param": 7
                }
        },

        "2": {
                "content": {
                        "param": 10
                }
        },

        "3": {
                "content": {
                        "param": 15
                }
        }
}$

// STL expression without META variable
println G[1, 2](true)(1, signal_1)  // true
println G[1, 2](false)(1, signal_1)  // false

// STL expression with one META variable
println G[1, 3]($param > 0)(0, signal_1) // true
println G[1, 3]($param < 0)(0, signal_1) // false


// signal_2 : empty signal
val signal2 = ${
        "1": {
                "content": {

                }
        },

        "2": {
                "content": {
                }
        }
}$

// no meta variable will be availale in this case

// signal_3: nested signal

val signal_3 = ${
        "1": {
                "content": {
                        "ego": {
                                "param": 7
                        },

                        "enemy": {
                                "param": 8
                        }

                }
        },

        "2": {
                "content": {
                        "ego": {
                                "param": 10
                        },

                        "enemy": {
                                "param": 11
                        }
                }
        },

        "3": {
                "content": {
                        "ego": {
                                "param": 15
                        },

                        "enemy": {
                                "param": 16
                        }
                }
        }
}$

println G[1, 3]($ego.param < 0)(0, signal_3) // false
println G[1, 3]($ego.param < $enemy.param)(0, signal_3) // true


// test stl declaration
val stl_3 = G[1, 3]($ego.param < 0)(0, signal_3)
println stl_3 // false













/*
    val stl = G[1, 2]($Ego.param > 5)

    Sample Signal Generated by Signal Estimator
        (0, ({'Ego': {'current_coord': (1, 20)}, 'Enemy': {'current_coord': (0, 5)}})
        (1, ({'Ego': {'current_coord': (2, 20)}, 'Enemy': {'current_coord': (0, 5)}})
        (2, ({'Ego': {'current_coord': (3, 20)}, 'Enemy': {'current_coord': (1, 6)}})
        (3, ({'Ego': {'current_coord': (4, 19)}, 'Enemy': {'current_coord': (2, 7)}})
        (4, ({'Ego': {'current_coord': (5, 18)}, 'Enemy': {'current_coord': (3, 8)}})
        (5, ({'Ego': {'current_coord': (6, 18)}, 'Enemy': {'current_coord': (4, 9)}})
        (6, ({'Ego': {'current_coord': (7, 17)}, 'Enemy': {'current_coord': (5, 10)}})
        (7, ({'Ego': {'current_coord': (7, 16)}, 'Enemy': {'current_coord': (6, 11)}})
        (8, ({'Ego': {'current_coord': (8, 15)}, 'Enemy': {'current_coord': (7, 12)}})
        (9, ({'Ego': {'current_coord': (9, 14)}, 'Enemy': {'current_coord': (8, 13)}})
        (10, ({'Ego': {'current_coord': (10, 13)}, 'Enemy': {'current_coord': (9, 14)}})
        (11, ({'Ego': {'current_coord': (10, 12)}, 'Enemy': {'current_coord': (10, 13)}})
        (12, ({'Ego': {'current_coord': (11, 11)}, 'Enemy': {'current_coord': (10, 12)}})
        (13, ({'Ego': {'current_coord': (11, 10)}, 'Enemy': {'current_coord': (11, 11)}})
        (14, ({'Ego': {'current_coord': (12, 9)}, 'Enemy': {'current_coord': (11, 10)}})
        (15, ({'Ego': {'current_coord': (12, 8)}, 'Enemy': {'current_coord': (12, 9)}})
        (16, ({'Ego': {'current_coord': (13, 7)}, 'Enemy': {'current_coord': (12, 8)}})
        (17, ({'Ego': {'current_coord': (13, 6)}, 'Enemy': {'current_coord': (13, 7)}})
        (18, ({'Ego': {'current_coord': (14, 5)}, 'Enemy': {'current_coord': (13, 6)}})
        (19, ({'Ego': {'current_coord': (14, 4)}, 'Enemy': {'current_coord': (14, 5)}})
        (20, ({'Ego': {'current_coord': (14, 3)}, 'Enemy': {'current_coord': (14, 4)}})
        (21, ({'Ego': {'current_coord': (15, 2)}, 'Enemy': {'current_coord': (14, 3)}})
        (22, ({'Ego': {'current_coord': (15, 1)}, 'Enemy': {'current_coord': (15, 2)}})
        (23, ({'Ego': {'current_coord': (15, 0)}, 'Enemy': {'current_coord': (15, 1)}})
*/